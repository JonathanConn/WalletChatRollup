{"version":3,"file":"SessionSendTransactionModal.jsx","sourceRoot":"","sources":["../../../src/views/SessionSendTransactionModal.tsx"],"names":[],"mappings":"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","sourcesContent":["import ProjectInfoCard from '@/components/ProjectInfoCard'\nimport RequestDataCard from '@/components/RequestDataCard'\nimport RequesDetailsCard from '@/components/RequestDetalilsCard'\nimport RequestMethodCard from '@/components/RequestMethodCard'\nimport RequestModalContainer from '@/components/RequestModalContainer'\nimport ModalStore from '@/store/ModalStore'\nimport { approveEIP155Request, rejectEIP155Request } from '@/utils/EIP155RequestHandlerUtil'\nimport { signClient } from '@/utils/WalletConnectUtil'\nimport { Button, Divider, Loading, Modal, Text } from '@nextui-org/react'\nimport { Fragment, useState } from 'react'\n\nexport default function SessionSendTransactionModal() {\n  const [loading, setLoading] = useState(false)\n\n  // Get request and wallet data from store\n  const requestEvent = ModalStore.state.data?.requestEvent\n  const requestSession = ModalStore.state.data?.requestSession\n\n  // Ensure request and wallet are defined\n  if (!requestEvent || !requestSession) {\n    return <Text>Missing request data</Text>\n  }\n\n  // Get required proposal data\n\n  const { topic, params } = requestEvent\n  const { request, chainId } = params\n  const transaction = request.params[0]\n\n  // Handle approve action\n  async function onApprove() {\n    if (requestEvent) {\n      setLoading(true)\n      const response = await approveEIP155Request(requestEvent)\n      await signClient.respond({\n        topic,\n        response\n      })\n      ModalStore.close()\n    }\n  }\n\n  // Handle reject action\n  async function onReject() {\n    if (requestEvent) {\n      const response = rejectEIP155Request(requestEvent)\n      await signClient.respond({\n        topic,\n        response\n      })\n      ModalStore.close()\n    }\n  }\n\n  return (\n    <Fragment>\n      <RequestModalContainer title=\"Send / Sign Transaction\">\n        <ProjectInfoCard metadata={requestSession.peer.metadata} />\n\n        <Divider y={2} />\n\n        <RequestDataCard data={transaction} />\n\n        <Divider y={2} />\n\n        <RequesDetailsCard chains={[chainId ?? '']} protocol={requestSession.relay.protocol} />\n\n        <Divider y={2} />\n\n        <RequestMethodCard methods={[request.method]} />\n      </RequestModalContainer>\n\n      <Modal.Footer>\n        <Button auto flat color=\"error\" onClick={onReject} disabled={loading}>\n          Reject\n        </Button>\n        <Button auto flat color=\"success\" onClick={onApprove} disabled={loading}>\n          {loading ? <Loading size=\"sm\" color=\"success\" /> : 'Approve'}\n        </Button>\n      </Modal.Footer>\n    </Fragment>\n  )\n}\n"]}