{"version":3,"file":"chatRequests.jsx","sourceRoot":"","sources":["../../../src/core/chatRequests.tsx"],"names":[],"mappings":";AAAA,OAAO,UAAU,MAAM,yBAAyB,CAAA;AAChD,OAAO,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAA;AACxC,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAA;AACrD,OAAO,EAAE,UAAU,EAAE,MAAM,2BAA2B,CAAA;AAEtD,OAAO,eAAe,MAAM,8BAA8B,CAAA;AAC1D,OAAO,EAAE,SAAS,EAAE,MAAM,aAAa,CAAA;AACvC,OAAO,EAAE,WAAW,EAAE,MAAM,QAAQ,CAAA;AACpC,OAAO,aAAa,MAAM,uBAAuB,CAAA;AAEjD,MAAM,CAAC,OAAO,UAAU,gBAAgB;IAAxC,iBAiDC;IAhDC,IAAM,MAAM,GAAG,SAAS,EAAE,CAAA;IACpB,IAAA,KAAgC,QAAQ,CAAmC,EAAE,CAAC,EAA7E,WAAW,QAAA,EAAE,cAAc,QAAkD,CAAA;IAE5E,IAAA,aAAa,GAAK,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC,cAArC,CAAqC;IAE1D,SAAS,CAAC;QACR,OAAO,CAAC,GAAG,CACT,kBAAkB,EAClB,UAAU,CAAC,kBAAkB,CAAC,EAAE,OAAO,EAAE,mBAAY,aAAa,CAAE,EAAE,CAAC,CACxE,CAAA;QAED,cAAc,CAAC,UAAU,CAAC,kBAAkB,CAAC,EAAE,OAAO,EAAE,mBAAY,aAAa,CAAE,EAAE,CAAC,CAAC,CAAA;IACzF,CAAC,EAAE,EAAE,CAAC,CAAA;IAEN,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,WAAW,CAAC,CAAA;IAE3C,IAAM,gBAAgB,GAAG,UAAO,QAAgB;;;wBAC9C,qBAAM,UAAU,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,EAAA;;oBAAzC,SAAyC,CAAA;oBACzC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;;;;SACtB,CAAA;IACD,IAAM,gBAAgB,GAAG,UAAO,QAAgB;;;wBAC9C,qBAAM,UAAU,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,EAAA;;oBAAzC,SAAyC,CAAA;oBACzC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;;;;SACtB,CAAA;IAED,OAAO,CACL,CAAC,QAAQ,CACP;MAAA,CAAC,UAAU,CAAC,KAAK,CAAC,eAAe,CAAC,cAAc,CAAC,cAAc,CAAC,QAAQ,EAExE;;MAAA,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CACxB,WAAW,CAAC,GAAG,CAAC,UAAA,MAAM;YACpB,OAAO,CACL,CAAC,eAAe,CACd,OAAO,CAAC,CAAC,aAAa,CAAC,CACvB,GAAG,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CACf,IAAI,MAAM,CAAC,CACX,QAAQ,CAAC,CAAC,cAAM,OAAA,gBAAgB,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,EAAnC,CAAmC,CAAC,CACpD,QAAQ,CAAC,CAAC,cAAM,OAAA,gBAAgB,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,EAAnC,CAAmC,CAAC,EACpD,CACH,CAAA;QACH,CAAC,CAAC,CACH,CAAC,CAAC,CAAC,CACF,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CACnE;;QACF,EAAE,IAAI,CAAC,CACR,CACH;IAAA,EAAE,QAAQ,CAAC,CACZ,CAAA;AACH,CAAC","sourcesContent":["import PageHeader from '@/components/PageHeader'\nimport { Text } from '@nextui-org/react'\nimport { Fragment, useEffect, useState } from 'react'\nimport { chatClient } from '@/utils/WalletConnectUtil'\nimport { ChatClientTypes } from '@walletconnect/chat-client'\nimport ChatRequestCard from '@/components/ChatRequestCard'\nimport { useRouter } from 'next/router'\nimport { useSnapshot } from 'valtio'\nimport SettingsStore from '@/store/SettingsStore'\n\nexport default function ChatRequestsPage() {\n  const router = useRouter()\n  const [chatInvites, setChatInvites] = useState<ChatClientTypes.ReceivedInvite[]>([])\n\n  const { eip155Address } = useSnapshot(SettingsStore.state)\n\n  useEffect(() => {\n    console.log(\n      'setting invites:',\n      chatClient.getReceivedInvites({ account: `eip155:1:${eip155Address}` })\n    )\n\n    setChatInvites(chatClient.getReceivedInvites({ account: `eip155:1:${eip155Address}` }))\n  }, [])\n\n  console.log('NEWINVITES:::::', chatInvites)\n\n  const acceptChatInvite = async (inviteId: number) => {\n    await chatClient.accept({ id: inviteId })\n    router.push('/chats')\n  }\n  const rejectChatInvite = async (inviteId: number) => {\n    await chatClient.reject({ id: inviteId })\n    router.push('/chats')\n  }\n\n  return (\n    <Fragment>\n      <PageHeader title=\"Chat Requests\" withBackButton backButtonHref=\"/chats\" />\n\n      {chatInvites.length > 0 ? (\n        chatInvites.map(invite => {\n          return (\n            <ChatRequestCard\n              account={eip155Address}\n              key={invite.id}\n              {...invite}\n              onAccept={() => acceptChatInvite(Number(invite.id))}\n              onReject={() => rejectChatInvite(Number(invite.id))}\n            />\n          )\n        })\n      ) : (\n        <Text css={{ opacity: '0.5', textAlign: 'center', marginTop: '$20' }}>\n          No chat requests\n        </Text>\n      )}\n    </Fragment>\n  )\n}\n"]}